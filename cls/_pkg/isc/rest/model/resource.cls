/// Base class for all REST resources
Class %pkg.isc.rest.model.resource Extends (%RegisteredObject, %pkg.isc.rest.model.iSerializable) [ Abstract, System = 3 ]
{

/// Name of the resource at the REST level
/// Subclasses MUST override this
/// TODO: Check this is non-abstract in non-abstract subclasses on compilation
Parameter RESOURCENAME As STRING [ Abstract ];

/// Content-Type implemented in this class
/// Subclasses MAY override this
/// TODO: Check this is non-abstract in non-abstract subclasses on compilation
Parameter MEDIATYPE As STRING = "application/json";

/// Maintains data in <class>%pkg.isc.rest.resourceMap</class> for this class.
Projection ResourceMap As %pkg.isc.rest.model.resourceMapProjection;

/// Returns an instance of this model, based on the arguments supplied.
ClassMethod GetModelInstance(args...) As %pkg.isc.rest.model.resource [ Abstract ]
{
}

/// Saves the model instance
Method SaveModelInstance(pUserContext As %RegisteredObject) [ Abstract ]
{
}

/// Deletes an instance of this model, based on the identifier <var>pID</var>
ClassMethod DeleteModelInstance(pID As %String) As %Boolean [ Abstract ]
{
}

/// Called by the handler when serving plural get requests. <br><br>
/// In the simplest case, the Resource is a Proxy and params are just query parameters for querying a table.
/// Note: This method should handle exporting JSON to the current device.
ClassMethod GetCollection(ByRef params, selectMode As %Integer) [ Abstract ]
{
}

/// Checks the user's permission for a particular operation on a particular record.
/// <var>pOperation</var> may be one of:
/// CREATE
/// READ
/// UPDATE
/// DELETE
/// QUERY
/// ACTION:<action name>
/// <var>pUserContext</var> is supplied by <method>GetUserContext</method>
ClassMethod CheckPermission(pID As %String, pOperation As %String, pUserContext As %RegisteredObject, ByRef URLParams) As %Boolean
{
	Quit 0
}

/// Defines a mapping of actions available for this model class to the associated methods and arguments.
XData ActionMap [ XMLNamespace = "http://www.intersystems.com/_pkg/isc/rest/action" ]
{
<Actions>
</Actions>
}

Projection Actions As %pkg.isc.rest.model.action.projection;

/// Modify the autogenerated OpenAPI Specification objects for this class by changing the values of the passed ByRef parameters
/// @Argument schemas: List of %pkg.isc.rest.openAPI.model.schema
/// @Argument endpoints: Array of endpoint URL -> %pkg.isc.rest.openAPI.model.pathItem (%pkg.isc.rest.openAPI.model.paths)
/// Sample use cases:
///   - Modify resource schema descriptions
///   - Add additional ISC_* fields to the resource schemas
///   - Correct resource schemas for classes that use custom JSON generation code
///   - Remove non-desired endpoints from output
///   - Provide alternate schemas for endpoint input / output (ie. in the case of %DynamicObject use)
///   - Add documentation for non-standard endpoints
/// Note: Endpoints can be removed from the endpoints array as desired, however schemas should not be removed from the schemas array.
ClassMethod ModifyOpenAPIInfo(ByRef schemas As %ListOfObjects, ByRef endpoints As %pkg.isc.rest.openAPI.model.paths) [ Abstract ]
{
}

}

